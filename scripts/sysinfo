#!/usr/bin/env bash
#
#
# Testing sysinfo
# By: Marcelo Alves
# No Copyright, license or any shit. Intelectual property doesn't exists.

# System information

os="$(sed -rn '/^NAME/ s/^NAME="?([a-z A-Z]+).?$/\1/p' /etc/os-release)"
kernel="$(uname -sr)"
hostname="$(uname -n)"
cpu="$(cat /proc/cpuinfo | awk -F ': ' '/model name/ {printf $2; exit}')"
shell="$(echo $SHELL)"

mem_info() {
	total=$(free -m | awk 'NR==2 {print $2}')
	used=$(free -m | awk 'NR==2 {print $3}')
	
	printf "${used} MiB / ${total} MiB\n"
}

# Clear screen
clear 

# Print sysinfo
cat <<EOF 

Well, some information about your system.
Let's go.

OS:		${os}
Hostname:	${hostname}
Kernel:		${kernel}
Processor:	${cpu}
Memory:		$(mem_info)
Shell:		${shell}

EOF







# Testing area
#
# userandhost="$(echo $(whoami)@$(uname -n))"
# mem_total="$(cat /proc/meminfo | awk '/MemTotal/ {printf $2}')"
# mem_usage="$(cat /proc/meminfo | awk '/Active/ {print $2}' | head -n 1)"
# mem_info="$(($mem_usage / 1024))MiB / $(($mem_total / 1024))MiB"
